import libnum
import uuid
import gmpy2

'''
flag = "flag{" + str(uuid.uuid4()) + "}"
m = libnum.s2n(flag)
p = libnum.generate_prime(1024)
q = libnum.generate_prime(1024)
n = p * q
e = 0x10001
M = 2021 * m * 1001 * p
c = gmpy2.powmod(M, e, n)
print("c =", c)
print("n =", n)
'''
e = 0x10001
c = 5001563994475425927493918178940091640767480747281921252489488767556193822541764034902585396299891325507881242255487619657564153389100411866044647392356631882762007390223548620642998948379494206842296663925679540877360879117111846626801131960488203170857206968925775987731825515433278077551567741335265547783928066841915641391334429453296324455013412861862360603021968749562216927508144515164685105065118743866949337281778168492777797461769470159773426222915465371325090774356587056309133254850622463429082064350014016411544332205900583949168281636548674849783504530284166622145401856126712740055322170359309476911307
n = 18767560514574122183412392570275957612854726292683208691481324292058550051366305105070914281777793871006288291215995538955401900607485118897570566253330266745614275204633864019112523486848808261152390108100079229879035027483785165493480349446775288156111390227788263881307431470817334865408058160897444551728948915114187751963237084721268829974333375252615318228139399638636151995305895605910526333705188501936171029112490554301093820458670096645836784579651355962012472039671990025191861718003431361648399980180518408592582410518199920228329975652367790414980366955616134545411794870709368213683177519428703297219043
p = gmpy2.gcd(c, n)
q = n // p
assert(p*q == n)
phi = (p-1) * (q-1)
d = gmpy2.invert(e, phi)
M = gmpy2.powmod(c, d, n)
m = M // (2021*1001*p)
print(libnum.n2s(int(m)))
