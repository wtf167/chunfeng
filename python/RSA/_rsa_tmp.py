import libnum
import uuid
import gmpy2
from sympy import Symbol
from sympy import solve

def getM2(a,b,c1,c2,n):
    a3 = pow(a,3,n)
    b3 = pow(b,3,n)
    first = c1-a3*c2+2*b3
    first = first % n
    second = 3*b*(a3*c2-b3)
    second = second % n
    third = second*gmpy2.invert(first,n)
    third = third % n
    fourth = (third+b)*gmpy2.invert(a,n)
    return fourth % n
a = 1
b = 1
n = 27486372633465009090662127401494750866371521483907484884776945426896024015221590234654244186306398157251731913812928516780055145493841956864641340825809685310374343698589194974283707328440591660560792488773997302481761856079075089908059079186537952056231192825467070155297751499368927472969060158253791819844447953361819073556392252615845295995545248184499134649663685087717612518701029993079549933038931534260622346270192939242982324313682190361085375676817007035198714534315585529844479917221112430112405442967877497416241235670677738095990485541477710380731336575159483193304608252340456847537020006641235938394291
c1 = 20909717744108723509186484656093383813727165215233217183703927729461967744150789410742622482957415872908258576021797808572123320922652988047848393676041371562021439541169739395568442395158233250478737880239775254150932123041267509223675676285340024694886544331857105234742001883278857029153571328292979915184833829644528240219263675555295415425493192041678711615478772291456858886026054462262874009664560614106529845629833061092402442969179287857119830141827040757858416030843223310133541993294390500358616289853730704173721938166269992686374569317935636914961066585468505503201246480271450156920920165779988881313729
c2 = 14918175785221240147545399247616053559301304325922769955953274615844101354374285869384837047986579220239966468881735304322965169362129271646152849437365496482920095035716021586083554206897873970613279958802996031074824843653771413953910123563971207811033754312310307895241413750804034250904663951934425009786088112902118268615969322050090070660205566888836870053164745060715459355317579869809820684028765426806196948163300949841336211907391582535758195820543978728209117527674692820010787341106498018029155679511934879538070684312799302479307709641383535525285308788394693559853849989647660361076683067129246187679872
c1 = c1 * 27 % n
c2 = c2 * 8 %n
m = getM2(a,b,c1,c2,n)-1
c = 19730797645844585665855772002707655566897285844866685001602837425487126904507883745558756075965397120970216023145948980490231463667531546894161700790546523077511436417654009400213111323389036080151944515381612929408598217299625225082398962687253293090626760697426541038567509761075063191789321777147040275972189397431427074736661206280037457128927240344522850547658346091564902192032818288799898418938982510804323109881229722001996588243540557738293135980581178104398333454291357421018854245650292257231071246599859842408980526408807318686672396650508358695707080460950119271280385829796437184178391365747018503162635
d = m // 3
print(gmpy2.powmod(d,3,n))
m1 = gmpy2.powmod(c, d, n)
print(libnum.n2s(int(m)))
